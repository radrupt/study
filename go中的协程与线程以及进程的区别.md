1. 什么是进程
狭义定义：进程是一段程序的执行过程
广义定义：进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。它是操作系统动态执行的基本单元，在传统的操作系统中，进程既是基本的分配单元，也是基本的执行单元，即进程确定需要执行的资源，包括存储资源，计算资源
2. 进程的特征
* 动态性：进程是动态产生，动态消亡的
* 并发性：进程之间可以并发执行
* 独立性：进程是一个能独立执行的基本单元，同时也是系统分配和调度的独立单位
* 不同进程间数据很难共享
3. 什么是线程
线程是操作系统能够进行运算调度的最小单位。同一进程中的多个线程共享进程中的全部资源。每个线程有自己的寄存器环境，不同线程之间切换执行的时候需要恢复上下文。因此
4. 什么是协程
协程是用户态的轻量级线程。拥有自己的寄存器上下文和栈。协程调度切换 的时候将上下文和栈保存在其它地方，在切换回来的时候恢复上下文继续执行。
5. 为什么协程比线程快
* 通常这里的线程是指用户线程，goalng中的M实际也是基于内核线程执行的，因为内核线程可以在内核态调度系统资源cpu，内存等
* 最主要的原因是内核线程和用户线程是平级的，只是优先级不同，而用户线程切换会涉及内核线程切换，开销更大，而协程是在内核线程下方的轻量线程，轻量线程的切换不涉及内核线程的切换
* 上下文切换比线程快，由于协程需要的内存空间更小，因此进程寄存器的保存和恢复效率会更高，占用内存和cpu资源更低
* golang中的协程初始只需要2kb，后续可根据使用情况扩容
* 调度灵活，由于golang实现了一套高效的用户态的调度逻辑，将需要执行的计算资源均匀的分配到每一个cpu上，并实现抢占式的调度，避免某一个cpu资源空闲，相比线程要更高效，线程的抢占式和多级队列调度考虑了线程的优先级，优先级高进入就绪状态的线程会先被执行，而golang都是平级的调度，通过P的队列来管理会更高效。
* 线程所在的进程也会进行cpu切换实现更好的资源利用率，但情况是一样的，进程的切换成本比协程的切换成本要大很多
6. golang的GMP
在go中线程是运行的主体，当然，毕竟cpu执行调度的是线程。调度器的功能是将可运行的goroutine分配给工作线程即M
* 全局队列：存放等待的G
* P的本地队列：同全局队列，存放数量不超过256个，如果超过就将一般的G放入global G queue。新建G的时候优先加入p的本地队列
* 所有的p都在程序启动时候创建，并保存在数组中，最多GOMAXPROCS个
* M：由p来确定需要执行的g，先从本地队列找runnable的g，没有则从全局g找runnable的g，还没有则从其他p窃取。此外由于m可能会阻塞，此时p是无法使用该阻塞的M来执行任务的，p就会找其它空闲的M来执行，没有则创建。
